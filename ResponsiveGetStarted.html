<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWEsome Portal</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .background-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }

        .fullscreen-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            background-color: black;
            display: none;
        }

            .fullscreen-video video {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

        /* Landscape screens */
        @media only screen and (min-width: 721px) {
            #landscape-container {
                display: block;
            }

            #portrait-container {
                display: none;
            }
        }

        /* Portrait screens */
        @media only screen and (max-width: 720px) {
            #landscape-container {
                display: none;
            }

            #portrait-container {
                display: block;
            }
        }

        #button {
            position: absolute;
            top: 30px;
            left: 25px;
            cursor: pointer;
            transition: opacity 0.3s ease;
            opacity: 0.5;
            z-index: 2; /* Ensure the button is above the video and map */
        }

            #button img {
                max-width: 50px; /* Adjust the maximum width of the button image */
                height: auto;
            }

            #button:hover {
                opacity: 1;
            }

        map area {
            touch-action: manipulation; /* Prevent default touch actions */
        }
    </style>
</head>
<body>

    <!-- Landscape Video and Map Container -->
    <div id="landscape-container" class="video-container">
        <video id="landscape-video" class="background-video" autoplay loop muted playsinline>
            <source src="./videos/MenuHorizontal.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <img class="map-overlay" src="./graphics/transparentH.png" usemap="#landscape-map">
        <map name="landscape-map">
            <area alt="ForestPortalDesktop" title="ForestPortalDesktop" href="ForestVideo.html" coords="299,249,558,614" shape="rect" data-video="./videos/Selection1_H.mp4">
            <area alt="SpacePortalDesktop" title="SpacePortalDesktop" href="SpaceVideo.html" coords="832,354,1018,623" shape="rect" data-video="./videos/Selection2_H.mp4">
            <area alt="WaterPortalDesktop" title="WaterPortalDesktop" href="WaterVideo.html" coords="1532,255,1764,624" shape="rect" data-video="./videos/Selection3_H.mp4">
        </map>
    </div>

    <!-- Portrait Video and Map Container -->
    <div id="portrait-container" class="video-container">
        <video id="portrait-video" class="background-video" autoplay loop muted playsinline>
            <source src="./videos/MenuVertical.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <img class="map-overlay" src="./graphics/transparentV.png" usemap="#portrait-map">
        <map name="portrait-map">
            <area alt="ForestPortalMobile" title="ForestPortalMobile" href="ForestVideo.html" coords="437,98,619,377" shape="rect" data-video="./videos/Selection1_V.mp4">
            <area alt="WaterPortalMobile" title="WaterPortalMobile" href="WaterVideo.html" coords="132,432,269,642" shape="rect" data-video="./videos/Selection2_V.mp4">
            <area alt="SpacePortalMobile" title="SpacePortalMobile" href="SpaceVideo.html" coords="301,712,493,984" shape="rect" data-video="./videos/Selection3_v.mp4">
        </map>
    </div>

    <!-- Fullscreen Video Container -->
    <div id="fullscreen-video" class="fullscreen-video">
        <video id="fullscreen-video-element" playsinline></video>
    </div>

    <a id="button" href="MainMenu.html">
        <img src="./graphics/back_arrow.png" alt="Button Image">
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mapAreas = document.querySelectorAll('area[data-video]');
            const fullscreenVideoContainer = document.getElementById('fullscreen-video');
            const fullscreenVideoElement = document.getElementById('fullscreen-video-element');

            mapAreas.forEach(area => {
                area.addEventListener('click', (event) => {
                    event.preventDefault();
                    const videoSrc = event.target.dataset.video;
                    const redirectUrl = event.target.href;

                    fullscreenVideoElement.src = videoSrc;
                    fullscreenVideoContainer.style.display = 'block';
                    fullscreenVideoElement.play();

                    fullscreenVideoElement.onended = () => {
                        fullscreenVideoContainer.style.display = 'none';
                        window.location.href = redirectUrl;
                    };
                });
            });
        });
    </script>

</body>
</html>
